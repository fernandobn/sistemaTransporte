{% extends 'plantilla.html' %} <!-- Extiende la plantilla base -->

{% load static %} <!-- Carga las etiquetas para trabajar con archivos estáticos -->

{% block contenido %}
<!-- Header Start -->
<div class="jumbotron jumbotron-fluid mb-5 bg-primary text-white">
    <div class="container text-center py-5">
        <h1 class="text-white display-3 mb-5">Las rutas más conocidas</h1>
        <div class="d-inline-flex align-items-center">
            <p class="m-0"><a class="text-white text-decoration-none" href="/">Inicio</a></p>
            <i class="fa fa-circle px-3"></i>
            <p class="m-0">Rutas</p>
        </div>
    </div>
</div>
<!-- Header End -->

<!-- Routes Section Start -->
<div class="container py-5">
    <div class="row">
        <!-- Ruta Card Start -->
        {% for ruta in rutas %}
        <div class="col-md-4 mb-4">
            <div class="card shadow-sm border-0">
                <div class="card-body text-center">
                    <h5 class="card-title text-primary fw-bold">{{ ruta.origen }} &rarr; {{ ruta.destino }}</h5>
                    <p class="card-text text-muted">
                        <p class="fa fa-dollar-sign me-2">Duración: {{ ruta.duracion_aproximada_formateada }}</p>
                    </p>
                    <p class="card-text">
                        <i class="fa fa-dollar-sign me-2"></i> Precio: ${{ ruta.precio }}
                    </p>
                    <button 
                        class="btn btn-outline-primary mt-2" 
                        data-bs-toggle="modal" 
                        data-bs-target="#rutaDetalleModal{{ ruta.id_ruta }}">
                        Ver Detalles
                    </button>
                </div>
            </div>
        </div>

        <!-- Modal de Detalles de la Ruta -->
        <div class="modal fade" id="rutaDetalleModal{{ ruta.id_ruta }}" tabindex="-1" aria-labelledby="rutaDetalleLabel{{ ruta.id_ruta }}" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-lg">
                <div class="modal-content">
                    <div class="modal-header bg-primary text-white">
                        <h5 class="modal-title" id="rutaDetalleLabel{{ ruta.id_ruta }}">
                            Detalles de la Ruta
                        </h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-md-6">
                                <p><strong>Origen:</strong> {{ ruta.origen }}</p>
                                <p><strong>Destino:</strong> {{ ruta.destino }}</p>
                            </div>
                            <div class="col-md-6">
                                <p><strong>Duración Aproximada:</strong> {{ ruta.duracion_aproximada_formateada }}</p>
                                <p><strong>Precio:</strong> ${{ ruta.precio }}</p>
                            </div>
                        </div>
                        <div class="alert alert-info mt-4" role="alert">
                            <i class="fa fa-info-circle me-2"></i> Esta ruta es una de las más populares entre los usuarios.
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal End -->
        {% endfor %}
        <!-- Ruta Card End -->
    </div>
</div>
<!-- Routes Section End -->
{% endblock %}
